# `CachedRDDReportGenerator`
Fall '17, University of Waterloo.

[![Build Status](https://travis-ci.org/michaelmior/CachedRDDReportGenerator.svg?branch=master)](https://travis-ci.org/michaelmior/CachedRDDReportGenerator)

## Authors
* Jaejun (Brandon) Lee, j474lee@edu.uwaterloo.ca
* Michael Mior, mmior@uwaterloo.ca

## Background
In order to take advantage of the full functionality of Spark, maximizing the use of cached RDDs is very important.
However, with the current version of Spark, it is very challenging to analyze gains from caching RDDs.
`CachedRDDReportGenerator` is designed to provide a way of interpreting current use of cached RDD by generating an usage report using Spark event logs.

## Build steps
Gradle is used as the build tool.

* Clone the repo: `git clone git@github.com:ljj7975/CachedRDDReportGenerator.git`
* To build project: `gradle build`

## Running `CachedRDDReportGenerator`
`CachedRDDReportGenerator` takes a log file generated by Spark:

    java -jar build/libs/CachedRDDReportGenerator-1.0-SNAPSHOT.jar <SparkEventLogFile>

If the `SparkEventLogFile` argument is not specified, the most recent log from `/tmp/spark-events` will be used.

## Usage Report Details
The usage report contains the RDD ID and 7 counters where each counter represents different uses of the RDD as in the following:

### Sample usage report
```
0 0 0 0 1 0 0 0 1
1 1 0 0 0 0 0 1 0
2 1 1 0 0 0 0 0 0
```

## Relevant Research
`CachedRDDReportGenerator` is developed as part of research directed by [Ken Salem](https://cs.uwaterloo.ca/~kmsalem/) with the assistance of [Michael Mior](https://michael.mior.ca).

In Spark, if an RDD is expected to be used in near future, the user can prevent recomputing same RDD by caching it.
However, eviction of cached RDDs is not directly controlled by the user and Spark simply uses an LRU cache replacement policy.
The main focus of the research is to see if we can design better caching mechanisms.
